<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Type Zebra Version 2 : Under Cosntruction</title>
  <style type="text/css">
  .google-font {
    color: green;
  }
  .font-name {
    color: blue;
  }
  .edge-font {
    color: rgb(238, 89, 20);
  }
  </style>
  <script rel="subresource" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript">
  if (typeof jQuery == 'undefined'){
    document.write(unescape("%3Cscript src='js/jquery.min.js' type='text/javascript'%3E%3C/script%3E"));
  }
  </script>
  <script rel="subresource" src="js/font-detect.js"></script>
  <script rel="subresource" src="js/swfobject.js"></script>
</head>
<body>
  <div id="sidebar">
    <ul id="list">
    </ul>
  </div>


<script>
$(document).ready(function() { // Check Flash version
  if (!swfobject.hasFlashPlayerVersion("9.0.0"))
    $("#status .toot").html("You don't have a compatible version of Flash installed. Please install latest version of Flash and refresh this page.");
  else {
    $("#status .toot").html("Loading your fonts...")
    var fontDetect = new FontDetect("font-detect-swf", "flash/FontList.swf", function(fd) {
      loadFonts(fd);
    });
  }
});


var fonts;
function loadFonts(fd) {
  fonts = fd.fonts();
  $("#status span").html("Loaded " + fonts.length + " fonts");
  for(var i = 0; i < fonts.length; i++) {
    var name = fonts[i].fontName;
    var nameNode = document.createElement("li");
    $(nameNode).addClass("font-name").attr('data-name', name).html(name);
    $("#list").append(nameNode);
  }
}

</script>



<script type="text/javascript">
  var url = 'https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAmlf-g5o1UbrluY5tL8regN11hP87F2zQ'

  $.get(url, function(data) {
    for(item in data.items) {
      item = data.items[item]
      $('#sidebar ul#list').append('<li class="google-font" onclick=\'loadFont("' + item.family + '", this)\'>' + item.family + '</li>')
    }
  }, "jsonp")

  function loadFont(fontFamily, element){
    $('#lazyloading').attr('href', '//fonts.googleapis.com/css?family=' + fontFamily);
    $('#alphabets').css('font-family', fontFamily);
  }
</script>




<script type="text/javascript">
$.getJSON('edge.json', function(data){
  var items = $();
  $.each(data, function(key, value){
    var edgeFontName = value.name;
    var li = $('<li class="edge-font">' + edgeFontName + '</li>');
    li.data('edgeFontSlug', value.slug);
    items = items.add(li);
  })
  $("#sidebar ul#list").empty().append(items)
    .on('click', 'li.edge-font', function() {
      $('#list li').removeClass('active');
      $(this).addClass('active');
      loadEdge( $(this).data('edgeFontSlug') );
    });
});

function loadEdge(edgeFontSlug) {
  var url = 'http://use.edgefonts.net/' + edgeFontSlug + '.js';
  var script = document.createElement( 'script' );
  script.type = 'text/javascript';
  script.src = url;
  $('head').append( script );
  $('#alphabets').css('font-family', edgeFontSlug);
}
</script>


<div id="font-detect-swf"></div>
</body>
</html>